---
interface Props {
  class?: string;
}

const { class: className } = Astro.props;

interface Feature {
  id: string;
  name: string;
  description: string;
  benefits: string[];
  slug: string;
  gradient: string;
}

const features: Feature[] = [
  {
    id: 'gestion-biens',
    name: 'Gestion des biens',
    description: 'Centralisez la gestion de tous vos biens immobiliers avec un suivi complet et des alertes automatiques.',
    benefits: [
      'Base de données centralisée',
      'Suivi en temps réel',
      'Alertes automatiques',
    ],
    slug: '/fonctionnalites/gestion-biens',
    gradient: 'from-blue-500 to-cyan-500',
  },
  {
    id: 'crm-immobilier',
    name: 'CRM immobilier',
    description: 'Gérez vos contacts, prospects et clients avec un CRM spécialement conçu pour l\'immobilier.',
    benefits: [
      'Pipeline de vente',
      'Suivi des rendez-vous',
      'Communication automatisée',
    ],
    slug: '/fonctionnalites/crm-immobilier',
    gradient: 'from-emerald-500 to-teal-500',
  },
  {
    id: 'gestion-locative',
    name: 'Gestion locative',
    description: 'Automatisez la gestion de vos locations : contrats, loyers, quittances et suivi des locataires.',
    benefits: [
      'Génération automatique des contrats',
      'Suivi des loyers',
      'Quittances automatiques',
    ],
    slug: '/fonctionnalites/gestion-locative',
    gradient: 'from-indigo-500 to-purple-500',
  },
  {
    id: 'syndic-copropriete',
    name: 'Syndic de copropriété',
    description: 'Automatisez la gestion administrative de vos copropriétés : charges, assemblées, documents.',
    benefits: [
      'Gestion automatisée des charges',
      'Portail copropriétaires',
      'Documents centralisés',
    ],
    slug: '/fonctionnalites/syndic-copropriete',
    gradient: 'from-purple-500 to-pink-500',
  },
  {
    id: 'promotion-immobiliere',
    name: 'Promotion immobilière',
    description: 'Pilotez vos projets immobiliers et commercialisez efficacement vos biens.',
    benefits: [
      'Suivi de projet',
      'Gestion des réservations',
      'Portail de commercialisation',
    ],
    slug: '/fonctionnalites/promotion-immobiliere',
    gradient: 'from-orange-500 to-amber-500',
  },
  {
    id: 'paiements-mobile-money',
    name: 'Paiements Mobile Money',
    description: 'Acceptez et gérez les paiements via Mobile Money directement depuis la plateforme.',
    benefits: [
      'Paiements en ligne',
      'Suivi automatique',
      'Sécurité renforcée',
    ],
    slug: '/fonctionnalites/paiements-mobile-money',
    gradient: 'from-green-500 to-emerald-500',
  },
];
---

<section class:list={['relative overflow-hidden py-16 md:py-24 lg:py-32', className]}>
  <!-- Enhanced Background with animated gradients -->
  <div class="pointer-events-none absolute inset-0">
    <div class="absolute inset-0 bg-gradient-to-br from-[#F0F7FF] via-white to-[#E8F2FF]" />
    <div class="absolute top-0 left-1/4 h-[500px] w-[500px] rounded-full bg-[#2563EB]/8 blur-3xl animate-pulse" style="animation-duration: 4s;" />
    <div class="absolute bottom-0 right-1/4 h-[600px] w-[600px] rounded-full bg-[#3B82F6]/6 blur-3xl animate-pulse" style="animation-duration: 5s; animation-delay: 1s;" />
    <div class="absolute top-1/2 left-1/2 h-[400px] w-[400px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-[#1D4ED8]/5 blur-3xl animate-pulse" style="animation-duration: 6s; animation-delay: 2s;" />

    <!-- Grid pattern overlay -->
    <div class="absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:32px_32px] opacity-40" />
  </div>

  <div class="container relative z-10 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
    <!-- Enhanced Header -->
    <div class="mb-12 md:mb-16 text-center">
      <div class="mb-6 inline-flex items-center gap-2 rounded-full border border-[#2563EB]/20 bg-white/80 backdrop-blur-sm px-5 py-2.5 shadow-lg transition-all duration-300 hover:scale-105 hover:border-[#2563EB]/30 hover:shadow-xl">
        <svg class="h-4 w-4 text-[#2563EB] animate-pulse" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
        </svg>
        <span class="text-xs font-bold uppercase tracking-wider text-[#2563EB]">
          Fonctionnalités
        </span>
      </div>
      <h2 class="mb-6 text-3xl font-extrabold leading-tight text-gray-900 sm:text-4xl md:text-5xl lg:text-6xl">
        Tout ce dont vous avez besoin{' '}
        <span class="relative inline-block">
          <span class="absolute inset-0 bg-gradient-to-r from-[#2563EB] via-[#3B82F6] to-[#2563EB] bg-[length:200%_100%] bg-clip-text opacity-50 blur-sm" />
          <span class="relative bg-gradient-to-r from-[#2563EB] via-[#1D4ED8] to-[#2563EB] bg-[length:200%_100%] bg-clip-text text-transparent">
            en un seul endroit
          </span>
        </span>
      </h2>
      <p class="mx-auto max-w-3xl text-base leading-relaxed text-gray-700 sm:text-lg md:text-xl">
        Découvrez les fonctionnalités qui transforment la gestion immobilière et boostent votre productivité
      </p>
    </div>

    <!-- Enhanced Features Grid -->
    <div class="mt-12 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {features.map((feature) => (
        <div class="group relative">
          <div class="absolute -inset-0.5 rounded-2xl bg-gradient-to-r from-[#2563EB]/20 via-[#3B82F6]/20 to-[#2563EB]/20 opacity-0 blur transition-opacity duration-300 group-hover:opacity-100" />
          <div class="relative">
            <a href={feature.slug} class="block no-underline group">
              <div class="group relative h-full overflow-hidden border-2 border-transparent bg-white rounded-lg transition-all duration-500 hover:border-[#2563EB]/20 hover:shadow-2xl hover:-translate-y-2">
                <!-- Gradient background on hover -->
                <div class:list={[
                  "absolute inset-0 opacity-0 transition-opacity duration-500 group-hover:opacity-5",
                  `bg-gradient-to-br ${feature.gradient}`
                ]} />

                <!-- Animated border gradient on hover -->
                <div class:list={[
                  "absolute -inset-0.5 rounded-lg opacity-0 blur-sm transition-opacity duration-500 group-hover:opacity-20",
                  `bg-gradient-to-r ${feature.gradient}`
                ]} />

                <div class="relative z-10 flex h-full flex-col p-6">
                  <!-- Icon with animated background -->
                  <div class:list={[
                    "mb-4 inline-flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br text-white shadow-lg transition-all duration-500 group-hover:scale-110 group-hover:rotate-3 group-hover:shadow-xl",
                    feature.gradient
                  ]}>
                    <svg class="h-8 w-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"/>
                    </svg>
                  </div>

                  <h3 class="mb-3 text-xl font-semibold text-gray-900 transition-colors duration-300 group-hover:text-[#2563EB]">
                    {feature.name}
                  </h3>

                  <p class="mb-4 text-sm leading-relaxed text-gray-600">
                    {feature.description}
                  </p>

                  <ul class="mb-4 flex-grow space-y-2">
                    {feature.benefits.map((benefit) => (
                      <li class="flex items-start text-sm text-gray-600 transition-all duration-200 group-hover:translate-x-1">
                        <svg class="mr-2 mt-0.5 h-4 w-4 flex-shrink-0 text-[#2563EB] transition-transform duration-200 group-hover:scale-110" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
                        </svg>
                        <span>{benefit}</span>
                      </li>
                    ))}
                  </ul>

                  <div class="mt-auto flex items-center text-sm font-semibold text-[#2563EB] transition-all duration-300 group-hover:text-[#1D4ED8] group-hover:gap-2">
                    En savoir plus
                    <svg class="ml-2 h-4 w-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                  </div>
                </div>
              </div>
            </a>
          </div>
        </div>
      ))}
    </div>

    <!-- Enhanced CTA -->
    <div class="mt-16 md:mt-20 text-center">
      <a
        href="/fonctionnalites"
        class="group relative inline-flex items-center justify-center overflow-hidden border-2 border-[#2563EB]/30 bg-white/90 backdrop-blur-sm px-8 py-6 text-base font-semibold shadow-lg transition-all duration-300 hover:scale-110 hover:border-[#2563EB] hover:bg-white hover:shadow-2xl rounded-lg"
      >
        Voir toutes les fonctionnalités
        <svg class="ml-2 h-5 w-5 transition-transform duration-300 group-hover:translate-x-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
        </svg>
      </a>
    </div>
  </div>
</section>
